{"ast":null,"code":"function setInsturctions(data) {\n  const instructions = document.getElementById('instructions');\n  const tripDistance = Math.round(data.distance);\n  const tripDuration = Math.floor(data.duration / 60);\n  const legs = data.legs;\n  let tripInstructions = '';\n  for (const step of legs) {\n    const destination = step.summary.split(',').join(' => ', ',');\n    tripInstructions += `<li id='instruction-item'> ${destination}\n                           <div>${Math.round(step.distance)} meter </div>\n                           <div>${Math.floor(step.duration / 60)} min </div>\n                         </li>`;\n  }\n  instructions.innerHTML = `<p>\n                              <strong>Trip distance: ${tripDistance} meter\n                            </p>\n                            <p>\n                              <strong>Trip duration: ${tripDuration} min </strong>\n                            </p>\n                            <ol>${tripInstructions}</ol>`;\n}\nexport const drawRoute = (data, map) => {\n  setInsturctions(data);\n  const route = data.geometry.coordinates;\n  const geojson = {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: route\n    }\n  };\n  if (map.getSource('route')) {\n    map.getSource('route').setData(geojson);\n  } else {\n    map.addLayer({\n      id: 'route',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: geojson\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#3887be',\n        'line-width': 5,\n        'line-opacity': 0.75\n      }\n    });\n  }\n};","map":{"version":3,"names":["setInsturctions","data","instructions","document","getElementById","tripDistance","Math","round","distance","tripDuration","floor","duration","legs","tripInstructions","step","destination","summary","split","join","innerHTML","drawRoute","map","route","geometry","coordinates","geojson","type","properties","getSource","setData","addLayer","id","source","layout","paint"],"sources":["/home/rnorbert/IdeaProjects/SARP/sarp/src/components/map/mapbox/helpers/routeDrawer.js"],"sourcesContent":["function setInsturctions (data) {\n  const instructions = document.getElementById('instructions')\n  const tripDistance = Math.round(data.distance)\n  const tripDuration = Math.floor(data.duration / 60)\n  const legs = data.legs\n  let tripInstructions = ''\n\n  for (const step of legs) {\n    const destination = step.summary.split(',').join(' => ', ',')\n    tripInstructions += `<li id='instruction-item'> ${destination}\n                           <div>${Math.round(step.distance)} meter </div>\n                           <div>${Math.floor(step.duration / 60)} min </div>\n                         </li>`\n  }\n\n  instructions.innerHTML = `<p>\n                              <strong>Trip distance: ${tripDistance} meter\n                            </p>\n                            <p>\n                              <strong>Trip duration: ${tripDuration} min </strong>\n                            </p>\n                            <ol>${tripInstructions}</ol>`\n}\n\nexport const drawRoute = (data, map) => {\n  setInsturctions(data)\n\n  const route = data.geometry.coordinates\n  const geojson = {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: route\n    }\n  }\n\n  if (map.getSource('route')) {\n    map.getSource('route').setData(geojson)\n  } else {\n    map.addLayer({\n      id: 'route',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: geojson\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#3887be',\n        'line-width': 5,\n        'line-opacity': 0.75\n      }\n    })\n  }\n}\n"],"mappings":"AAAA,SAASA,eAAeA,CAAEC,IAAI,EAAE;EAC9B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;EAC5D,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACN,IAAI,CAACO,QAAQ,CAAC;EAC9C,MAAMC,YAAY,GAAGH,IAAI,CAACI,KAAK,CAACT,IAAI,CAACU,QAAQ,GAAG,EAAE,CAAC;EACnD,MAAMC,IAAI,GAAGX,IAAI,CAACW,IAAI;EACtB,IAAIC,gBAAgB,GAAG,EAAE;EAEzB,KAAK,MAAMC,IAAI,IAAIF,IAAI,EAAE;IACvB,MAAMG,WAAW,GAAGD,IAAI,CAACE,OAAO,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;IAC7DL,gBAAgB,IAAK,8BAA6BE,WAAY;AAClE,kCAAkCT,IAAI,CAACC,KAAK,CAACO,IAAI,CAACN,QAAQ,CAAE;AAC5D,kCAAkCF,IAAI,CAACI,KAAK,CAACI,IAAI,CAACH,QAAQ,GAAG,EAAE,CAAE;AACjE,+BAA+B;EAC7B;EAEAT,YAAY,CAACiB,SAAS,GAAI;AAC5B,uDAAuDd,YAAa;AACpE;AACA;AACA,uDAAuDI,YAAa;AACpE;AACA,kCAAkCI,gBAAiB,OAAM;AACzD;AAEA,OAAO,MAAMO,SAAS,GAAGA,CAACnB,IAAI,EAAEoB,GAAG,KAAK;EACtCrB,eAAe,CAACC,IAAI,CAAC;EAErB,MAAMqB,KAAK,GAAGrB,IAAI,CAACsB,QAAQ,CAACC,WAAW;EACvC,MAAMC,OAAO,GAAG;IACdC,IAAI,EAAE,SAAS;IACfC,UAAU,EAAE,CAAC,CAAC;IACdJ,QAAQ,EAAE;MACRG,IAAI,EAAE,YAAY;MAClBF,WAAW,EAAEF;IACf;EACF,CAAC;EAED,IAAID,GAAG,CAACO,SAAS,CAAC,OAAO,CAAC,EAAE;IAC1BP,GAAG,CAACO,SAAS,CAAC,OAAO,CAAC,CAACC,OAAO,CAACJ,OAAO,CAAC;EACzC,CAAC,MAAM;IACLJ,GAAG,CAACS,QAAQ,CAAC;MACXC,EAAE,EAAE,OAAO;MACXL,IAAI,EAAE,MAAM;MACZM,MAAM,EAAE;QACNN,IAAI,EAAE,SAAS;QACfzB,IAAI,EAAEwB;MACR,CAAC;MACDQ,MAAM,EAAE;QACN,WAAW,EAAE,OAAO;QACpB,UAAU,EAAE;MACd,CAAC;MACDC,KAAK,EAAE;QACL,YAAY,EAAE,SAAS;QACvB,YAAY,EAAE,CAAC;QACf,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}