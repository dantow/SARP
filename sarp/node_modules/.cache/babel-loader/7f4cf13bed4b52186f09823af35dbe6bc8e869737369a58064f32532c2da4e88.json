{"ast":null,"code":"'use strict';\n\nif (typeof Promise === 'undefined') {\n  // install ES6 Promise polyfill\n  require('../vendor/promise');\n}\nvar interceptor = require('rest/interceptor');\nvar callbackify = interceptor({\n  success: function (response) {\n    var callback = response && response.callback;\n    if (typeof callback === 'function') {\n      callback(null, response.entity, response);\n    }\n    return response;\n  },\n  error: function (response) {\n    var callback = response && response.callback;\n    if (typeof callback === 'function') {\n      var err = response.error || response.entity;\n      if (typeof err !== 'object') err = new Error(err);\n      callback(err);\n    }\n    return response;\n  }\n});\nmodule.exports = callbackify;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}