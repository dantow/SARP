{"ast":null,"code":"!function (t) {\n  \"object\" == typeof exports ? module.exports = t() : \"function\" == typeof define && define.amd ? define(t) : \"undefined\" != typeof window ? window.Promise = t() : \"undefined\" != typeof global ? global.Promise = t() : \"undefined\" != typeof self && (self.Promise = t());\n}(function () {\n  var t;\n  return function e(t, n, o) {\n    function r(u, c) {\n      if (!n[u]) {\n        if (!t[u]) {\n          var f = \"function\" == typeof require && require;\n          if (!c && f) return f(u, !0);\n          if (i) return i(u, !0);\n          throw new Error(\"Cannot find module '\" + u + \"'\");\n        }\n        var s = n[u] = {\n          exports: {}\n        };\n        t[u][0].call(s.exports, function (e) {\n          var n = t[u][1][e];\n          return r(n ? n : e);\n        }, s, s.exports, e, t, n, o);\n      }\n      return n[u].exports;\n    }\n    for (var i = \"function\" == typeof require && require, u = 0; u < o.length; u++) r(o[u]);\n    return r;\n  }({\n    1: [function (t, e, n) {\n      var o = t(\"../lib/decorators/unhandledRejection\"),\n        r = o(t(\"../lib/Promise\"));\n      e.exports = \"undefined\" != typeof global ? global.Promise = r : \"undefined\" != typeof self ? self.Promise = r : r;\n    }, {\n      \"../lib/Promise\": 2,\n      \"../lib/decorators/unhandledRejection\": 4\n    }],\n    2: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function (t) {\n          var e = t(\"./makePromise\"),\n            n = t(\"./Scheduler\"),\n            o = t(\"./env\").asap;\n          return e({\n            scheduler: new n(o)\n          });\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t(e);\n      });\n    }, {\n      \"./Scheduler\": 3,\n      \"./env\": 5,\n      \"./makePromise\": 7\n    }],\n    3: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function () {\n          function t(t) {\n            this._async = t, this._running = !1, this._queue = this, this._queueLen = 0, this._afterQueue = {}, this._afterQueueLen = 0;\n            var e = this;\n            this.drain = function () {\n              e._drain();\n            };\n          }\n          return t.prototype.enqueue = function (t) {\n            this._queue[this._queueLen++] = t, this.run();\n          }, t.prototype.afterQueue = function (t) {\n            this._afterQueue[this._afterQueueLen++] = t, this.run();\n          }, t.prototype.run = function () {\n            this._running || (this._running = !0, this._async(this.drain));\n          }, t.prototype._drain = function () {\n            for (var t = 0; t < this._queueLen; ++t) this._queue[t].run(), this._queue[t] = void 0;\n            for (this._queueLen = 0, this._running = !1, t = 0; t < this._afterQueueLen; ++t) this._afterQueue[t].run(), this._afterQueue[t] = void 0;\n            this._afterQueueLen = 0;\n          }, t;\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t();\n      });\n    }, {}],\n    4: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function (t) {\n          function e(t) {\n            throw t;\n          }\n          function n() {}\n          var o = t(\"../env\").setTimer,\n            r = t(\"../format\");\n          return function (t) {\n            function i(t) {\n              t.handled || (l.push(t), a(\"Potentially unhandled rejection [\" + t.id + \"] \" + r.formatError(t.value)));\n            }\n            function u(t) {\n              var e = l.indexOf(t);\n              e >= 0 && (l.splice(e, 1), h(\"Handled previous rejection [\" + t.id + \"] \" + r.formatObject(t.value)));\n            }\n            function c(t, e) {\n              p.push(t, e), null === d && (d = o(f, 0));\n            }\n            function f() {\n              for (d = null; p.length > 0;) p.shift()(p.shift());\n            }\n            var s,\n              a = n,\n              h = n;\n            \"undefined\" != typeof console && (s = console, a = \"undefined\" != typeof s.error ? function (t) {\n              s.error(t);\n            } : function (t) {\n              s.log(t);\n            }, h = \"undefined\" != typeof s.info ? function (t) {\n              s.info(t);\n            } : function (t) {\n              s.log(t);\n            }), t.onPotentiallyUnhandledRejection = function (t) {\n              c(i, t);\n            }, t.onPotentiallyUnhandledRejectionHandled = function (t) {\n              c(u, t);\n            }, t.onFatalRejection = function (t) {\n              c(e, t.value);\n            };\n            var p = [],\n              l = [],\n              d = null;\n            return t;\n          };\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t(e);\n      });\n    }, {\n      \"../env\": 5,\n      \"../format\": 6\n    }],\n    5: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function (t) {\n          function e() {\n            return \"undefined\" != typeof process && \"[object process]\" === Object.prototype.toString.call(process);\n          }\n          function n() {\n            return \"function\" == typeof MutationObserver && MutationObserver || \"function\" == typeof WebKitMutationObserver && WebKitMutationObserver;\n          }\n          function o(t) {\n            function e() {\n              var t = n;\n              n = void 0, t();\n            }\n            var n,\n              o = document.createTextNode(\"\"),\n              r = new t(e);\n            r.observe(o, {\n              characterData: !0\n            });\n            var i = 0;\n            return function (t) {\n              n = t, o.data = i ^= 1;\n            };\n          }\n          var r,\n            i = \"undefined\" != typeof setTimeout && setTimeout,\n            u = function (t, e) {\n              return setTimeout(t, e);\n            },\n            c = function (t) {\n              return clearTimeout(t);\n            },\n            f = function (t) {\n              return i(t, 0);\n            };\n          if (e()) f = function (t) {\n            return process.nextTick(t);\n          };else if (r = n()) f = o(r);else if (!i) {\n            var s = t,\n              a = s(\"vertx\");\n            u = function (t, e) {\n              return a.setTimer(e, t);\n            }, c = a.cancelTimer, f = a.runOnLoop || a.runOnContext;\n          }\n          return {\n            setTimer: u,\n            clearTimer: c,\n            asap: f\n          };\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t(e);\n      });\n    }, {}],\n    6: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function () {\n          function t(t) {\n            var n = \"object\" == typeof t && null !== t && (t.stack || t.message) ? t.stack || t.message : e(t);\n            return t instanceof Error ? n : n + \" (WARNING: non-Error used)\";\n          }\n          function e(t) {\n            var e = String(t);\n            return \"[object Object]\" === e && \"undefined\" != typeof JSON && (e = n(t, e)), e;\n          }\n          function n(t, e) {\n            try {\n              return JSON.stringify(t);\n            } catch (n) {\n              return e;\n            }\n          }\n          return {\n            formatError: t,\n            formatObject: e,\n            tryStringify: n\n          };\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t();\n      });\n    }, {}],\n    7: [function (e, n, o) {\n      !function (t) {\n        \"use strict\";\n\n        t(function () {\n          return function (t) {\n            function e(t, e) {\n              this._handler = t === _ ? e : n(t);\n            }\n            function n(t) {\n              function e(t) {\n                r.resolve(t);\n              }\n              function n(t) {\n                r.reject(t);\n              }\n              function o(t) {\n                r.notify(t);\n              }\n              var r = new b();\n              try {\n                t(e, n, o);\n              } catch (i) {\n                n(i);\n              }\n              return r;\n            }\n            function o(t) {\n              return S(t) ? t : new e(_, new x(y(t)));\n            }\n            function r(t) {\n              return new e(_, new x(new P(t)));\n            }\n            function i() {\n              return $;\n            }\n            function u() {\n              return new e(_, new b());\n            }\n            function c(t, e) {\n              var n = new b(t.receiver, t.join().context);\n              return new e(_, n);\n            }\n            function f(t) {\n              return a(K, null, t);\n            }\n            function s(t, e) {\n              return a(F, t, e);\n            }\n            function a(t, n, o) {\n              function r(e, r, u) {\n                u.resolved || h(o, i, e, t(n, r, e), u);\n              }\n              function i(t, e, n) {\n                a[t] = e, 0 === --s && n.become(new q(a));\n              }\n              for (var u, c = \"function\" == typeof n ? r : i, f = new b(), s = o.length >>> 0, a = new Array(s), p = 0; p < o.length && !f.resolved; ++p) u = o[p], void 0 !== u || p in o ? h(o, c, p, u, f) : --s;\n              return 0 === s && f.become(new q(a)), new e(_, f);\n            }\n            function h(t, e, n, o, r) {\n              if (U(o)) {\n                var i = m(o),\n                  u = i.state();\n                0 === u ? i.fold(e, n, void 0, r) : u > 0 ? e(n, i.value, r) : (r.become(i), p(t, n + 1, i));\n              } else e(n, o, r);\n            }\n            function p(t, e, n) {\n              for (var o = e; o < t.length; ++o) l(y(t[o]), n);\n            }\n            function l(t, e) {\n              if (t !== e) {\n                var n = t.state();\n                0 === n ? t.visit(t, void 0, t._unreport) : 0 > n && t._unreport();\n              }\n            }\n            function d(t) {\n              return \"object\" != typeof t || null === t ? r(new TypeError(\"non-iterable passed to race()\")) : 0 === t.length ? i() : 1 === t.length ? o(t[0]) : v(t);\n            }\n            function v(t) {\n              var n,\n                o,\n                r,\n                i = new b();\n              for (n = 0; n < t.length; ++n) if (o = t[n], void 0 !== o || n in t) {\n                if (r = y(o), 0 !== r.state()) {\n                  i.become(r), p(t, n + 1, r);\n                  break;\n                }\n                r.visit(i, i.resolve, i.reject);\n              }\n              return new e(_, i);\n            }\n            function y(t) {\n              return S(t) ? t._handler.join() : U(t) ? j(t) : new q(t);\n            }\n            function m(t) {\n              return S(t) ? t._handler.join() : j(t);\n            }\n            function j(t) {\n              try {\n                var e = t.then;\n                return \"function\" == typeof e ? new g(e, t) : new q(t);\n              } catch (n) {\n                return new P(n);\n              }\n            }\n            function _() {}\n            function w() {}\n            function b(t, n) {\n              e.createContext(this, n), this.consumers = void 0, this.receiver = t, this.handler = void 0, this.resolved = !1;\n            }\n            function x(t) {\n              this.handler = t;\n            }\n            function g(t, e) {\n              b.call(this), I.enqueue(new E(t, e, this));\n            }\n            function q(t) {\n              e.createContext(this), this.value = t;\n            }\n            function P(t) {\n              e.createContext(this), this.id = ++Y, this.value = t, this.handled = !1, this.reported = !1, this._report();\n            }\n            function R(t, e) {\n              this.rejection = t, this.context = e;\n            }\n            function C(t) {\n              this.rejection = t;\n            }\n            function O() {\n              return new P(new TypeError(\"Promise cycle\"));\n            }\n            function T(t, e) {\n              this.continuation = t, this.handler = e;\n            }\n            function Q(t, e) {\n              this.handler = e, this.value = t;\n            }\n            function E(t, e, n) {\n              this._then = t, this.thenable = e, this.resolver = n;\n            }\n            function L(t, e, n, o, r) {\n              try {\n                t.call(e, n, o, r);\n              } catch (i) {\n                o(i);\n              }\n            }\n            function k(t, e, n, o) {\n              this.f = t, this.z = e, this.c = n, this.to = o, this.resolver = X, this.receiver = this;\n            }\n            function S(t) {\n              return t instanceof e;\n            }\n            function U(t) {\n              return (\"object\" == typeof t || \"function\" == typeof t) && null !== t;\n            }\n            function H(t, n, o, r) {\n              return \"function\" != typeof t ? r.become(n) : (e.enterContext(n), W(t, n.value, o, r), void e.exitContext());\n            }\n            function N(t, n, o, r, i) {\n              return \"function\" != typeof t ? i.become(o) : (e.enterContext(o), z(t, n, o.value, r, i), void e.exitContext());\n            }\n            function M(t, n, o, r, i) {\n              return \"function\" != typeof t ? i.notify(n) : (e.enterContext(o), A(t, n, r, i), void e.exitContext());\n            }\n            function F(t, e, n) {\n              try {\n                return t(e, n);\n              } catch (o) {\n                return r(o);\n              }\n            }\n            function W(t, e, n, o) {\n              try {\n                o.become(y(t.call(n, e)));\n              } catch (r) {\n                o.become(new P(r));\n              }\n            }\n            function z(t, e, n, o, r) {\n              try {\n                t.call(o, e, n, r);\n              } catch (i) {\n                r.become(new P(i));\n              }\n            }\n            function A(t, e, n, o) {\n              try {\n                o.notify(t.call(n, e));\n              } catch (r) {\n                o.notify(r);\n              }\n            }\n            function J(t, e) {\n              e.prototype = V(t.prototype), e.prototype.constructor = e;\n            }\n            function K(t, e) {\n              return e;\n            }\n            function D() {}\n            function G() {\n              return \"undefined\" != typeof process && null !== process && \"function\" == typeof process.emit ? function (t, e) {\n                return \"unhandledRejection\" === t ? process.emit(t, e.value, e) : process.emit(t, e);\n              } : \"undefined\" != typeof self && \"function\" == typeof CustomEvent ? function (t, e, n) {\n                var o = !1;\n                try {\n                  var r = new n(\"unhandledRejection\");\n                  o = r instanceof n;\n                } catch (i) {}\n                return o ? function (t, o) {\n                  var r = new n(t, {\n                    detail: {\n                      reason: o.value,\n                      key: o\n                    },\n                    bubbles: !1,\n                    cancelable: !0\n                  });\n                  return !e.dispatchEvent(r);\n                } : t;\n              }(D, self, CustomEvent) : D;\n            }\n            var I = t.scheduler,\n              B = G(),\n              V = Object.create || function (t) {\n                function e() {}\n                return e.prototype = t, new e();\n              };\n            e.resolve = o, e.reject = r, e.never = i, e._defer = u, e._handler = y, e.prototype.then = function (t, e, n) {\n              var o = this._handler,\n                r = o.join().state();\n              if (\"function\" != typeof t && r > 0 || \"function\" != typeof e && 0 > r) return new this.constructor(_, o);\n              var i = this._beget(),\n                u = i._handler;\n              return o.chain(u, o.receiver, t, e, n), i;\n            }, e.prototype[\"catch\"] = function (t) {\n              return this.then(void 0, t);\n            }, e.prototype._beget = function () {\n              return c(this._handler, this.constructor);\n            }, e.all = f, e.race = d, e._traverse = s, e._visitRemaining = p, _.prototype.when = _.prototype.become = _.prototype.notify = _.prototype.fail = _.prototype._unreport = _.prototype._report = D, _.prototype._state = 0, _.prototype.state = function () {\n              return this._state;\n            }, _.prototype.join = function () {\n              for (var t = this; void 0 !== t.handler;) t = t.handler;\n              return t;\n            }, _.prototype.chain = function (t, e, n, o, r) {\n              this.when({\n                resolver: t,\n                receiver: e,\n                fulfilled: n,\n                rejected: o,\n                progress: r\n              });\n            }, _.prototype.visit = function (t, e, n, o) {\n              this.chain(X, t, e, n, o);\n            }, _.prototype.fold = function (t, e, n, o) {\n              this.when(new k(t, e, n, o));\n            }, J(_, w), w.prototype.become = function (t) {\n              t.fail();\n            };\n            var X = new w();\n            J(_, b), b.prototype._state = 0, b.prototype.resolve = function (t) {\n              this.become(y(t));\n            }, b.prototype.reject = function (t) {\n              this.resolved || this.become(new P(t));\n            }, b.prototype.join = function () {\n              if (!this.resolved) return this;\n              for (var t = this; void 0 !== t.handler;) if (t = t.handler, t === this) return this.handler = O();\n              return t;\n            }, b.prototype.run = function () {\n              var t = this.consumers,\n                e = this.handler;\n              this.handler = this.handler.join(), this.consumers = void 0;\n              for (var n = 0; n < t.length; ++n) e.when(t[n]);\n            }, b.prototype.become = function (t) {\n              this.resolved || (this.resolved = !0, this.handler = t, void 0 !== this.consumers && I.enqueue(this), void 0 !== this.context && t._report(this.context));\n            }, b.prototype.when = function (t) {\n              this.resolved ? I.enqueue(new T(t, this.handler)) : void 0 === this.consumers ? this.consumers = [t] : this.consumers.push(t);\n            }, b.prototype.notify = function (t) {\n              this.resolved || I.enqueue(new Q(t, this));\n            }, b.prototype.fail = function (t) {\n              var e = \"undefined\" == typeof t ? this.context : t;\n              this.resolved && this.handler.join().fail(e);\n            }, b.prototype._report = function (t) {\n              this.resolved && this.handler.join()._report(t);\n            }, b.prototype._unreport = function () {\n              this.resolved && this.handler.join()._unreport();\n            }, J(_, x), x.prototype.when = function (t) {\n              I.enqueue(new T(t, this));\n            }, x.prototype._report = function (t) {\n              this.join()._report(t);\n            }, x.prototype._unreport = function () {\n              this.join()._unreport();\n            }, J(b, g), J(_, q), q.prototype._state = 1, q.prototype.fold = function (t, e, n, o) {\n              N(t, e, this, n, o);\n            }, q.prototype.when = function (t) {\n              H(t.fulfilled, this, t.receiver, t.resolver);\n            };\n            var Y = 0;\n            J(_, P), P.prototype._state = -1, P.prototype.fold = function (t, e, n, o) {\n              o.become(this);\n            }, P.prototype.when = function (t) {\n              \"function\" == typeof t.rejected && this._unreport(), H(t.rejected, this, t.receiver, t.resolver);\n            }, P.prototype._report = function (t) {\n              I.afterQueue(new R(this, t));\n            }, P.prototype._unreport = function () {\n              this.handled || (this.handled = !0, I.afterQueue(new C(this)));\n            }, P.prototype.fail = function (t) {\n              this.reported = !0, B(\"unhandledRejection\", this), e.onFatalRejection(this, void 0 === t ? this.context : t);\n            }, R.prototype.run = function () {\n              this.rejection.handled || this.rejection.reported || (this.rejection.reported = !0, B(\"unhandledRejection\", this.rejection) || e.onPotentiallyUnhandledRejection(this.rejection, this.context));\n            }, C.prototype.run = function () {\n              this.rejection.reported && (B(\"rejectionHandled\", this.rejection) || e.onPotentiallyUnhandledRejectionHandled(this.rejection));\n            }, e.createContext = e.enterContext = e.exitContext = e.onPotentiallyUnhandledRejection = e.onPotentiallyUnhandledRejectionHandled = e.onFatalRejection = D;\n            var Z = new _(),\n              $ = new e(_, Z);\n            return T.prototype.run = function () {\n              this.handler.join().when(this.continuation);\n            }, Q.prototype.run = function () {\n              var t = this.handler.consumers;\n              if (void 0 !== t) for (var e, n = 0; n < t.length; ++n) e = t[n], M(e.progress, this.value, this.handler, e.receiver, e.resolver);\n            }, E.prototype.run = function () {\n              function t(t) {\n                o.resolve(t);\n              }\n              function e(t) {\n                o.reject(t);\n              }\n              function n(t) {\n                o.notify(t);\n              }\n              var o = this.resolver;\n              L(this._then, this.thenable, t, e, n);\n            }, k.prototype.fulfilled = function (t) {\n              this.f.call(this.c, this.z, t, this.to);\n            }, k.prototype.rejected = function (t) {\n              this.to.reject(t);\n            }, k.prototype.progress = function (t) {\n              this.to.notify(t);\n            }, e;\n          };\n        });\n      }(\"function\" == typeof t && t.amd ? t : function (t) {\n        n.exports = t();\n      });\n    }, {}]\n  }, {}, [1])(1);\n});\n//# sourceMappingURL=Promise.min.js.map","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}