{"ast":null,"code":"const oneMinuteInSeconds = 60;\nfunction createInstructionSteps(legs) {\n  let instructionOfSteps = '';\n  for (const step of legs) {\n    const destination = step.summary.split(',').join(' => ', ',');\n    const stepDistance = Math.round(step.distance);\n    const stepDuration = Math.floor(step.duration / oneMinuteInSeconds);\n    instructionOfSteps += `<li id='instruction-item'> ${destination}\n                            <div>${stepDistance} meter </div>\n                            <div>${stepDuration} min </div>\n                         </li>`;\n  }\n  return instructionOfSteps;\n}\nfunction setInsturctions(data) {\n  const instructions = document.getElementById('instructions');\n  const tripDistance = Math.round(data.distance);\n  const tripDuration = Math.floor(data.duration / oneMinuteInSeconds);\n  const legs = data.legs;\n  const tripInstructions = createInstructionSteps(legs);\n  instructions.innerHTML = `<p>\n                              <strong>Trip distance: ${tripDistance} meter\n                            </p>\n                            <p>\n                              <strong>Trip duration: ${tripDuration} min </strong>\n                            </p>\n                            <ol>${tripInstructions}</ol>`;\n}\nexport const drawRoute = (data, map) => {\n  setInsturctions(data);\n  const route = data.geometry.coordinates;\n  const geojson = {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: route\n    }\n  };\n  if (map.getSource('route')) {\n    map.getSource('route').setData(geojson);\n  } else {\n    map.addLayer({\n      id: 'route',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: geojson\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#3887be',\n        'line-width': 5,\n        'line-opacity': 0.75\n      }\n    });\n  }\n};","map":{"version":3,"names":["oneMinuteInSeconds","createInstructionSteps","legs","instructionOfSteps","step","destination","summary","split","join","stepDistance","Math","round","distance","stepDuration","floor","duration","setInsturctions","data","instructions","document","getElementById","tripDistance","tripDuration","tripInstructions","innerHTML","drawRoute","map","route","geometry","coordinates","geojson","type","properties","getSource","setData","addLayer","id","source","layout","paint"],"sources":["/home/rnorbert/IdeaProjects/SARP/sarp/src/components/map/mapbox/helpers/routeDrawer.js"],"sourcesContent":["const oneMinuteInSeconds = 60\n\nfunction createInstructionSteps (legs) {\n  let instructionOfSteps = ''\n  for (const step of legs) {\n    const destination = step.summary.split(',').join(' => ', ',')\n    const stepDistance = Math.round(step.distance)\n    const stepDuration = Math.floor(step.duration / oneMinuteInSeconds)\n\n    instructionOfSteps += `<li id='instruction-item'> ${destination}\n                            <div>${stepDistance} meter </div>\n                            <div>${stepDuration} min </div>\n                         </li>`\n  }\n  return instructionOfSteps\n}\n\nfunction setInsturctions (data) {\n  const instructions = document.getElementById('instructions')\n  const tripDistance = Math.round(data.distance)\n  const tripDuration = Math.floor(data.duration / oneMinuteInSeconds)\n  const legs = data.legs\n  const tripInstructions = createInstructionSteps(legs)\n\n  instructions.innerHTML = `<p>\n                              <strong>Trip distance: ${tripDistance} meter\n                            </p>\n                            <p>\n                              <strong>Trip duration: ${tripDuration} min </strong>\n                            </p>\n                            <ol>${tripInstructions}</ol>`\n}\n\nexport const drawRoute = (data, map) => {\n  setInsturctions(data)\n\n  const route = data.geometry.coordinates\n  const geojson = {\n    type: 'Feature',\n    properties: {},\n    geometry: {\n      type: 'LineString',\n      coordinates: route\n    }\n  }\n\n  if (map.getSource('route')) {\n    map.getSource('route').setData(geojson)\n  } else {\n    map.addLayer({\n      id: 'route',\n      type: 'line',\n      source: {\n        type: 'geojson',\n        data: geojson\n      },\n      layout: {\n        'line-join': 'round',\n        'line-cap': 'round'\n      },\n      paint: {\n        'line-color': '#3887be',\n        'line-width': 5,\n        'line-opacity': 0.75\n      }\n    })\n  }\n}\n"],"mappings":"AAAA,MAAMA,kBAAkB,GAAG,EAAE;AAE7B,SAASC,sBAAsBA,CAAEC,IAAI,EAAE;EACrC,IAAIC,kBAAkB,GAAG,EAAE;EAC3B,KAAK,MAAMC,IAAI,IAAIF,IAAI,EAAE;IACvB,MAAMG,WAAW,GAAGD,IAAI,CAACE,OAAO,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC;IAC7D,MAAMC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACP,IAAI,CAACQ,QAAQ,CAAC;IAC9C,MAAMC,YAAY,GAAGH,IAAI,CAACI,KAAK,CAACV,IAAI,CAACW,QAAQ,GAAGf,kBAAkB,CAAC;IAEnEG,kBAAkB,IAAK,8BAA6BE,WAAY;AACpE,mCAAmCI,YAAa;AAChD,mCAAmCI,YAAa;AAChD,+BAA+B;EAC7B;EACA,OAAOV,kBAAkB;AAC3B;AAEA,SAASa,eAAeA,CAAEC,IAAI,EAAE;EAC9B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;EAC5D,MAAMC,YAAY,GAAGX,IAAI,CAACC,KAAK,CAACM,IAAI,CAACL,QAAQ,CAAC;EAC9C,MAAMU,YAAY,GAAGZ,IAAI,CAACI,KAAK,CAACG,IAAI,CAACF,QAAQ,GAAGf,kBAAkB,CAAC;EACnE,MAAME,IAAI,GAAGe,IAAI,CAACf,IAAI;EACtB,MAAMqB,gBAAgB,GAAGtB,sBAAsB,CAACC,IAAI,CAAC;EAErDgB,YAAY,CAACM,SAAS,GAAI;AAC5B,uDAAuDH,YAAa;AACpE;AACA;AACA,uDAAuDC,YAAa;AACpE;AACA,kCAAkCC,gBAAiB,OAAM;AACzD;AAEA,OAAO,MAAME,SAAS,GAAGA,CAACR,IAAI,EAAES,GAAG,KAAK;EACtCV,eAAe,CAACC,IAAI,CAAC;EAErB,MAAMU,KAAK,GAAGV,IAAI,CAACW,QAAQ,CAACC,WAAW;EACvC,MAAMC,OAAO,GAAG;IACdC,IAAI,EAAE,SAAS;IACfC,UAAU,EAAE,CAAC,CAAC;IACdJ,QAAQ,EAAE;MACRG,IAAI,EAAE,YAAY;MAClBF,WAAW,EAAEF;IACf;EACF,CAAC;EAED,IAAID,GAAG,CAACO,SAAS,CAAC,OAAO,CAAC,EAAE;IAC1BP,GAAG,CAACO,SAAS,CAAC,OAAO,CAAC,CAACC,OAAO,CAACJ,OAAO,CAAC;EACzC,CAAC,MAAM;IACLJ,GAAG,CAACS,QAAQ,CAAC;MACXC,EAAE,EAAE,OAAO;MACXL,IAAI,EAAE,MAAM;MACZM,MAAM,EAAE;QACNN,IAAI,EAAE,SAAS;QACfd,IAAI,EAAEa;MACR,CAAC;MACDQ,MAAM,EAAE;QACN,WAAW,EAAE,OAAO;QACpB,UAAU,EAAE;MACd,CAAC;MACDC,KAAK,EAAE;QACL,YAAY,EAAE,SAAS;QACvB,YAAY,EAAE,CAAC;QACf,cAAc,EAAE;MAClB;IACF,CAAC,CAAC;EACJ;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}